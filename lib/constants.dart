import 'package:flutter/material.dart';
import 'package:kana_master/domain/models/kana_entry.dart';
import 'package:kana_master/domain/models/model_config.dart';

const Color jOrange = Color(0xFFF2B54B);
const Color jLightBLue = Color(0xFF5F8BA9);
const Color jDarkBLue = Color(0xFF0E1B26);

const int imageDimensions = 128;
const int totalClasses = 45;

const ModelConfig hiraganaModelV1 = ModelConfig(
  assetPath: 'assets/models/model_etl8g.tflite',
  inputSize: 128,
  numClasses: 45,
  normalize: false,
);

const ModelConfig hiraganaModelV2 = ModelConfig(
  assetPath: 'assets/models/hiragana.tflite',
  inputSize: 48,
  numClasses: 71,
  normalize: true,
);

const ModelConfig katakanaModelV1 = ModelConfig(
  assetPath: 'assets/models/katakana.tflite',
  inputSize: 48,
  numClasses: 48,
  normalize: true,
);

const ModelConfig kanjiModelV1 = ModelConfig(
  assetPath: 'assets/models/kanji.tflite',
  inputSize: 48,
  numClasses: 0,
  normalize: false,
);

const ModelConfig activeHiraganaModel = hiraganaModelV2;

enum KanaType { hiragana, katakana, kanji }

enum DifficultyLevel { low, medium, high }

enum TestType { drawingTest, singleAnswer }

const Map<String, String> hiragana = {
  "あ": "a",
  "い": "i",
  "う": "u",
  "え": "e",
  "お": "o",
  "か": "ka",
  "が": "ga",
  "き": "ki",
  "ぎ": "gi",
  "く": "ku",
  "ぐ": "gu",
  "け": "ke",
  "げ": "ge",
  "こ": "ko",
  "ご": "go",
  "さ": "sa",
  "ざ": "za",
  "し": "shi",
  "じ": "ji",
  "す": "su",
  "ず": "zu",
  "せ": "se",
  "ぜ": "ze",
  "そ": "so",
  "ぞ": "zo",
  "た": "ta",
  "だ": "da",
  "ち": "chi",
  "ぢ": "ji",
  "つ": "tsu",
  "づ": "zu",
  "て": "te",
  "で": "de",
  "と": "to",
  "ど": "do",
  "な": "na",
  "に": "ni",
  "ぬ": "nu",
  "ね": "ne",
  "の": "no",
  "は": "ha",
  "ば": "ba",
  "ぱ": "pa",
  "ひ": "hi",
  "び": "bi",
  "ぴ": "pi",
  "ふ": "fu",
  "ぶ": "bu",
  "ぷ": "pu",
  "へ": "he",
  "べ": "be",
  "ぺ": "pe",
  "ほ": "ho",
  "ぼ": "bo",
  "ぽ": "po",
  "ま": "ma",
  "み": "mi",
  "む": "mu",
  "め": "me",
  "も": "mo",
  "や": "ya",
  "ゆ": "yu",
  "よ": "yo",
  "ら": "ra",
  "り": "ri",
  "る": "ru",
  "れ": "re",
  "ろ": "ro",
  "わ": "wa",
  "を": "wo",
  "ん": "n",
};

const List<String?> hiraganaDisplayGrid = [
  "あ",
  "い",
  "う",
  "え",
  "お",
  "か",
  "き",
  "く",
  "け",
  "こ",
  "が",
  "ぎ",
  "ぐ",
  "げ",
  "ご",
  "さ",
  "し",
  "す",
  "せ",
  "そ",
  "ざ",
  "じ",
  "ず",
  "ぜ",
  "ぞ",
  "た",
  "ち",
  "つ",
  "て",
  "と",
  "だ",
  "ぢ",
  "づ",
  "で",
  "ど",
  "な",
  "に",
  "ぬ",
  "ね",
  "の",
  "は",
  "ひ",
  "ふ",
  "へ",
  "ほ",
  "ば",
  "び",
  "ぶ",
  "べ",
  "ぼ",
  "ぱ",
  "ぴ",
  "ぷ",
  "ぺ",
  "ぽ",
  "ま",
  "み",
  "む",
  "め",
  "も",
  "や",
  null,
  "ゆ",
  null,
  "よ",
  "ら",
  "り",
  "る",
  "れ",
  "ろ",
  "わ",
  null,
  null,
  null,
  "を",
  null,
  null,
  "ん",
  null,
  null,
];

const List<String?> katakanaDisplayGrid = [
  "ア",
  "イ",
  "ウ",
  "エ",
  "オ",
  "カ",
  "キ",
  "ク",
  "ケ",
  "コ",
  "サ",
  "シ",
  "ス",
  "セ",
  "ソ",
  "タ",
  "チ",
  "ツ",
  "テ",
  "ト",
  "ナ",
  "ニ",
  "ヌ",
  "ネ",
  "ノ",
  "ハ",
  "ヒ",
  "フ",
  "ヘ",
  "ホ",
  "マ",
  "ミ",
  "ム",
  "メ",
  "モ",
  "ヤ",
  null,
  "ユ",
  null,
  "ヨ",
  "ラ",
  "リ",
  "ル",
  "レ",
  "ロ",
  "ワ",
  null,
  null,
  null,
  "ヲ",
  null,
  null,
  "ン",
  null,
  null
];

const Map<String, String> katakana = {
  "ア": "a",
  "イ": "i",
  "ウ": "u",
  "エ": "e",
  "オ": "o",
  "カ": "ka",
  "キ": "ki",
  "ク": "ku",
  "ケ": "ke",
  "コ": "ko",
  "サ": "sa",
  "シ": "shi",
  "ス": "su",
  "セ": "se",
  "ソ": "so",
  "タ": "ta",
  "チ": "chi",
  "ツ": "tsu",
  "テ": "te",
  "ト": "to",
  "ナ": "na",
  "ニ": "ni",
  "ヌ": "nu",
  "ネ": "ne",
  "ノ": "no",
  "ハ": "ha",
  "ヒ": "hi",
  "フ": "fu",
  "ヘ": "he",
  "ホ": "ho",
  "マ": "ma",
  "ミ": "mi",
  "ム": "mu",
  "メ": "me",
  "モ": "mo",
  "ヤ": "ya",
  "ユ": "yu",
  "ヨ": "yo",
  "ラ": "ra",
  "リ": "ri",
  "ル": "ru",
  "レ": "re",
  "ロ": "ro",
  "ワ": "wa",
  "ヲ": "wo",
  "ン": "n",
};

const List<String> katakanaModelLabels = [
  "ア",
  "イ",
  "ウ",
  "エ",
  "オ",
  "カ",
  "キ",
  "ク",
  "ケ",
  "コ",
  "サ",
  "シ",
  "ス",
  "セ",
  "ソ",
  "タ",
  "チ",
  "ツ",
  "テ",
  "ト",
  "ナ",
  "ニ",
  "ヌ",
  "ネ",
  "ノ",
  "ハ",
  "ヒ",
  "フ",
  "ヘ",
  "ホ",
  "マ",
  "ミ",
  "ム",
  "メ",
  "モ",
  "ヤ",
  "ユ",
  "ヨ",
  "ラ",
  "リ",
  "ル",
  "レ",
  "ロ",
  "ワ",
  "ヰ",
  "ヱ",
  "ヲ",
  "ン",
];

const List<String> katakanaDrawingLabels = [
  "ア",
  "イ",
  "ウ",
  "エ",
  "オ",
  "カ",
  "キ",
  "ク",
  "ケ",
  "コ",
  "サ",
  "シ",
  "ス",
  "セ",
  "ソ",
  "タ",
  "チ",
  "ツ",
  "テ",
  "ト",
  "ナ",
  "ニ",
  "ヌ",
  "ネ",
  "ノ",
  "ハ",
  "ヒ",
  "フ",
  "ヘ",
  "ホ",
  "マ",
  "ミ",
  "ム",
  "メ",
  "モ",
  "ヤ",
  "ユ",
  "ヨ",
  "ラ",
  "リ",
  "ル",
  "レ",
  "ロ",
  "ワ",
  "ヲ",
  "ン",
];

const languages = {
  'es': 'Español',
  'en': 'English',
  'ca': 'Català',
  'fr': 'Français',
  'de': 'Deutsch',
  'it': 'Italiano',
  'pt': 'Português',
  'ru': 'Русский',
  'ja': '日本語',
  'zh': '中文',
  'ko': '한국어',
};

final List<KanaEntry> hiraganaEntries = _buildKanaEntries(hiragana);

final List<KanaEntry> katakanaEntries = _buildKanaEntries(
  katakana,
  uncommonCharacters: {"ヰ", "ヱ"},
);

List<KanaEntry> _buildKanaEntries(
  Map<String, String> kanaMap, {
  Map<String, String> assetOverrides = const {},
  Set<String> uncommonCharacters = const {},
}) {
  return kanaMap.entries.map((entry) {
    final String character = entry.key;
    final String reading = entry.value;
    return KanaEntry.fromCharacter(
      character: character,
      reading: reading,
      assetKey: assetOverrides[character],
      isCommon: !uncommonCharacters.contains(character),
    );
  }).toList(growable: false);
}
